<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.8.16"/>
  <title>Harmony 3 : Wireless: m2m_ota_rollback</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <link href="customstylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
 <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
 <div id="titlearea">
 <table cellspacing="0" cellpadding="0">
 <tbody>
   <tr style="height: 56px;vertical-align: text-bottom;">
    <td style="padding: 0.2em 0.5em 0.1em 0.5em;">
	  <a id="projectlogo"><img alt="Logo" src="Microchip_logo.png"/> </a> </td>
     <td style="padding-right: 1em;">
       <span id="projectname"/> <class="stringliteral">Harmony 3 : Wireless </span>
     </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">m2m_ota_rollback<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad238a0b0d9218b8db10d82a95fc91dad"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___ota_rollbackfn.html#gad238a0b0d9218b8db10d82a95fc91dad">m2m_ota_rollback</a> (void)</td></tr>
<tr class="memdesc:gad238a0b0d9218b8db10d82a95fc91dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request OTA Rollback image.  <a href="group___ota_rollbackfn.html#gad238a0b0d9218b8db10d82a95fc91dad">More...</a><br /></td></tr>
<tr class="separator:gad238a0b0d9218b8db10d82a95fc91dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ef08b287054da5d8fedd9c8fafd2b63"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___ota_rollbackfn.html#ga6ef08b287054da5d8fedd9c8fafd2b63">m2m_ota_rollback_crt</a> (void)</td></tr>
<tr class="memdesc:ga6ef08b287054da5d8fedd9c8fafd2b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request Cortus application OTA Rollback image.  <a href="group___ota_rollbackfn.html#ga6ef08b287054da5d8fedd9c8fafd2b63">More...</a><br /></td></tr>
<tr class="separator:ga6ef08b287054da5d8fedd9c8fafd2b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Request OTA Roll-back to the old (other) WINC image, the WINC firmware will check the validation of the Roll-back image and switch to it if it is valid. If the API response is success, system restart is required (re-initialize the driver with hardware rest) update the host driver version may be required if it is did not match the minimum version supported by the WINC firmware.</p>
<p>Request Cortus application OTA Roll-back to the old (other) cortus application image, the WINC firmware will check the validation of the Roll-back image and switch to it if it is valid. If the API response is success, system restart is required (re-initialize the driver with hardware rest) update the host driver version may be required. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad238a0b0d9218b8db10d82a95fc91dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad238a0b0d9218b8db10d82a95fc91dad">&#9670;&nbsp;</a></span>m2m_ota_rollback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_ota_rollback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request OTA Rollback image. </p>
<p>Request OTA Roll-back to the old (inactive) WINC image, the WINC firmware will check the validity of the inactive image and activate it if valid. On completion, a callback of type <a class="el" href="group___o_t_a_t_y_p_e_d_e_f.html#gaf345fdfae1cf9ce618873bb9ce7f3045">tpfOtaUpdateCb</a> is called (application must previously have provided the callback via <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#ga80058af2f37ab262dbc1b5f5327708f7">m2m_ota_init</a>). If the callback indicates successful activation, the newly-activated image will start running after next system reset.</p>
<p>Request OTA Roll-back to the old (inactive) WINC image, the WINC firmware will check the validity of the Roll-back image and activate it if valid. On completion, a callback of type tpfOtaUpdateCb is called (application must previously have provided the callback via m2m_ota_init). If the callback indicates successful activation, the newly-activated image will start running after next system reset.</p>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return 0 for success and a negative value otherwise.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If rollback requires a host driver update in order to maintain HIF compatibility (HIF major value change), then it is recommended to update the host driver prior to calling this API.<br  />
 In the event of system reset with incompatible driver/firmware, compatibility can be recovered by calling <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#gad238a0b0d9218b8db10d82a95fc91dad">m2m_ota_rollback</a> or <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#ga24e44fbce7ca42ded0e1daa500c40ca8">m2m_ota_switch_firmware</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___ota_init_fn.html#ga87960f1beeaec73ede1283ae058bfa39" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___ota_start_updatefn.html#ga38a82b1bc3c43d3e48f8c4956b191ab1" title="Request OTA start update using the downloaded url.">m2m_ota_start_update</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd>
<dd>
The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If rollback requires a host driver update in order to maintain HIF compatibility (HIF major value change), then it is recommended to update the host driver prior to calling this API.<br  />
 In the event of system reset with incompatible driver/firmware, compatibility can be recovered by calling <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#gad238a0b0d9218b8db10d82a95fc91dad">m2m_ota_rollback</a> or <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#ga24e44fbce7ca42ded0e1daa500c40ca8">m2m_ota_switch_firmware</a>. See <a class="el" href="group___ota_start_updatefn.html#OTAExample">Example</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___ota_init_fn.html#ga87960f1beeaec73ede1283ae058bfa39" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___ota_start_updatefn.html#ga38a82b1bc3c43d3e48f8c4956b191ab1" title="Request OTA start update using the downloaded url.">m2m_ota_start_update</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd></dl>
<p>Request rollback to the old (inactive) WINC image. The WINC firmware will check the validity of the inactive image and activate it if it is valid. On completion, a callback of type <a class="el" href="group___o_t_a_t_y_p_e_d_e_f.html#gaf345fdfae1cf9ce618873bb9ce7f3045">tpfOtaUpdateCb</a> is called (application must previously have provided the callback via <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#ga08275ebf9834c5223311bc8ae9627959">m2m_ota_init()</a>). If the callback indicates successful activation, the newly-activated image will start running after next system reset.</p>
<dl class="section warning"><dt>Warning</dt><dd>If rollback will necessitate a host driver update in order to maintain HIF compatibility (HIF major value change), then it is recommended to update the host driver prior to calling this API. In the event of system reset with incompatible driver/firmware, compatibility can be recovered by calling <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#gad238a0b0d9218b8db10d82a95fc91dad">m2m_ota_rollback</a> or <a class="el" href="group___o_t_a_f_u_n_c_t_i_o_n_s.html#ga24e44fbce7ca42ded0e1daa500c40ca8">m2m_ota_switch_firmware</a>. See <a class="el" href="group___ota_start_updatefn.html#OTAExample">Example</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___ota_init_fn.html#ga87960f1beeaec73ede1283ae058bfa39" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___ota_start_updatefn.html#ga38a82b1bc3c43d3e48f8c4956b191ab1" title="Request OTA start update using the downloaded url.">m2m_ota_start_update</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___ota_init_fn.html#ga87960f1beeaec73ede1283ae058bfa39" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___ota_start_updatefn.html#ga38a82b1bc3c43d3e48f8c4956b191ab1" title="Request OTA start update using the downloaded url.">m2m_ota_start_update</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga6ef08b287054da5d8fedd9c8fafd2b63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ef08b287054da5d8fedd9c8fafd2b63">&#9670;&nbsp;</a></span>m2m_ota_rollback_crt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_ota_rollback_crt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request Cortus application OTA Rollback image. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___ota_init_fn.html#ga87960f1beeaec73ede1283ae058bfa39" title="Initialize the OTA layer.">m2m_ota_init</a> <a class="el" href="group___ota_start_updatefn.html#gaf1e631145f9a203642f877b002b2c306" title="Request OTA start for the Cortus app image.">m2m_ota_start_update_crt</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd>
<dd>
The function SHALL return 0 for success and a negative value otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
  <span class="stringliteral"> © 2019 Microchip Technology Inc. </span>
</body>
</html>
