<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.8.16"/>
  <title>Harmony 3 : Wireless: System Time</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <link href="customstylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
 <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
 <div id="titlearea">
 <table cellspacing="0" cellpadding="0">
 <tbody>
   <tr style="height: 56px;vertical-align: text-bottom;">
    <td style="padding: 0.2em 0.5em 0.1em 0.5em;">
	  <a id="projectlogo"><img alt="Logo" src="Microchip_logo.png"/> </a> </td>
     <td style="padding-right: 1em;">
       <span id="projectname"/> <class="stringliteral">Harmony 3 : Wireless </span>
     </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">System Time<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Here are listed all the functions that implement the System Time APIs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga982bfb5ca27463fb0ef6b6f4f09d0377"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga982bfb5ca27463fb0ef6b6f4f09d0377">m2m_wifi_configure_sntp</a> (uint8_t *pu8NTPServerName, uint8_t u8NTPServerNameLength, <a class="el" href="group___wlan_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a> useDHCP)</td></tr>
<tr class="memdesc:ga982bfb5ca27463fb0ef6b6f4f09d0377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures what NTP server the SNTP client should use.  <a href="group___w_l_a_n_t_i_m_e.html#ga982bfb5ca27463fb0ef6b6f4f09d0377">More...</a><br /></td></tr>
<tr class="separator:ga982bfb5ca27463fb0ef6b6f4f09d0377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac58e72d38196c2befce12f6bb01b1573"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#gac58e72d38196c2befce12f6bb01b1573">m2m_wifi_enable_sntp</a> (uint8_t bEnable)</td></tr>
<tr class="memdesc:gac58e72d38196c2befce12f6bb01b1573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WINC15x0 firmware.  <a href="group___w_l_a_n_t_i_m_e.html#gac58e72d38196c2befce12f6bb01b1573">More...</a><br /></td></tr>
<tr class="separator:gac58e72d38196c2befce12f6bb01b1573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4055ecd51b8c38e427d9f418f1743712"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> (uint32_t u32UTCSeconds)</td></tr>
<tr class="memdesc:ga4055ecd51b8c38e427d9f418f1743712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting the system time within the WINC IC.  <a href="group___w_l_a_n_t_i_m_e.html#ga4055ecd51b8c38e427d9f418f1743712">More...</a><br /></td></tr>
<tr class="separator:ga4055ecd51b8c38e427d9f418f1743712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57394f15ef7d7c5a273776870680b9c3"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga57394f15ef7d7c5a273776870680b9c3">m2m_wifi_get_system_time</a> (void)</td></tr>
<tr class="memdesc:ga57394f15ef7d7c5a273776870680b9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to obtain the system time in use by the WINC IC.  <a href="group___w_l_a_n_t_i_m_e.html#ga57394f15ef7d7c5a273776870680b9c3">More...</a><br /></td></tr>
<tr class="separator:ga57394f15ef7d7c5a273776870680b9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Here are listed all the functions that implement the System Time APIs. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga982bfb5ca27463fb0ef6b6f4f09d0377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga982bfb5ca27463fb0ef6b6f4f09d0377">&#9670;&nbsp;</a></span>m2m_wifi_configure_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_configure_sntp </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8NTPServerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8NTPServerNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___wlan_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a>&#160;</td>
          <td class="paramname"><em>useDHCP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures what NTP server the SNTP client should use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useDHCP</td><td>Should the NTP server provided by the DHCP server be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function SHALL return M2M_SUCCESS for success and a negative value otherwise.</dd></dl>
<p>Configures what NTP server the SNTP client should use. Only 1 server name can be provided, if the configured server name begins with an asterisk then it will be treated as a server pool. The SNTP client can also use the NTP server provided by the DHCP server through option 42. By default the NTP server provided by DHCP will be tried first, then the built-in default NTP server (time.nist.gov) will be used. Configuring a server name will overwrite the built-in default server until next reboot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useDHCP</td><td>Should the NTP server provided by the DHCP server be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise.</dd></dl>
<p>Configures what NTP server the SNTP client should use. Only 1 server name can be provided, if the configured server name begins with an asterisk then it will be treated as a server pool. The SNTP client can also use the NTP server provided by the DHCP server through option 42. By default the NTP server provided by DHCP will be tried first, then the built-in default NTP server (time.nist.gov) will be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___wlan_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useDHCP</td><td>Explicity tell the WINC if it should use the NTP server provided by the DHCP server or not.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>SNTP should be configured before the connection takes place. If SNTP is configured after the device connects to a network, the new configuration can take a minimum of 24h to be applied. However, it can take even longer since it is triggered by DHCP renewal. Currently there is also a known issue in which if the WINC obtains the NTP server from DHCP and then connects to a different network, it will still use the NTP from the previous network. Configuring a server name will overwrite the built-in default server until next reboot.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for success and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="gac58e72d38196c2befce12f6bb01b1573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac58e72d38196c2befce12f6bb01b1573">&#9670;&nbsp;</a></span>m2m_wifi_enable_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_enable_sntp </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bEnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WINC15x0 firmware. </p>
<p>Asynchronous API to enable or disable the SNTP client running on the WINC IC.</p>
<p>Asynchronous API to enable or disable the native Simple Network Time Protocol(SNTP) client running on the WINC.</p>
<p>The SNTP is enabled by default at start-up.The SNTP client at firmware is used to synchronize the system clock to the UTC time from the well known time servers (e.g. "time-c.nist.gov"). The SNTP client uses a default update cycle of 1 day.</p>
<p>The UTC is important for checking the expiration date of X509 certificates used while establishing TLS (Transport Layer Security) connections.</p>
<p>It is highly recommended to use it if there is no other means to get the UTC time. If there is a RTC on the host MCU, the SNTP could be disabled and the host should set the system time to the firmware using the <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>Enables or disables the SNTP service '0' :disable SNTP '1' :enable SNTP</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_set_system_time.html#ga4055ecd51b8c38e427d9f418f1743712" title="Function for setting the system time within the WINC IC.">m2m_wifi_set_system_time</a></dd></dl>
<p>The SNTP client is enabled by default during chip initialization. This function can be used to disable or subsequently re-enable the service.</p>
<p>The service is capable of synchronizing the WINC system clock to the UTC time from a well-known (and trusted) time server, for example "time.nist.gov". By default the SNTP client will update the system time once every 24 hours. The ability to track the time accurately is important for various applications such as checking expiry of X509 certificates during TLS (Transport Layer Security) session establishment.</p>
<p>It is highly recommended to leave SNTP enabled if there is no alternative source of timing information. For systems including an RTC device, SNTP may not be needed and the WINC's time may be set using the <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>Enables or disables the SNTP service '0' :disable SNTP '1' :enable SNTP</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_set_system_time.html#ga4055ecd51b8c38e427d9f418f1743712" title="Function for setting the system time within the WINC IC.">m2m_wifi_set_system_time</a></dd></dl>
<p>The SNTP client is enabled by default during chip initialisation. This function can be used to disable or subsequently re-enable the service.</p>
<p>The service is capable of synchronising the WINC's system clock to the UTC time from a well-known (and trusted) time server, for example "time.nist.gov". By default the SNTP client will update the system time once every 24 hours. The ability to track the time accurately is important for various applications such as checking expiry of X509 certificates during TLS session establishment.</p>
<p>It is highly recommended to leave SNTP enabled if there is no alternative source of timing information. For systems including an RTC device, SNTP may not be needed and the WINC IC's time may be set using the <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>Enables or disables the SNTP service<ul>
<li>'0' : disable SNTP</li>
<li>'1' : enable SNTP</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_set_system_time.html#ga4055ecd51b8c38e427d9f418f1743712" title="Function for setting the system time within the WINC IC.">m2m_wifi_set_system_time</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bEnable</td><td>Enabling/Disabling flag '0' :disable SNTP '1' :enable SNTP </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_set_system_time.html#ga4055ecd51b8c38e427d9f418f1743712" title="Function for setting the system time within the WINC IC.">m2m_wifi_set_system_time</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga57394f15ef7d7c5a273776870680b9c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57394f15ef7d7c5a273776870680b9c3">&#9670;&nbsp;</a></span>m2m_wifi_get_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_get_system_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to obtain the system time in use by the WINC IC. </p>
<p>Asynchronous API to obtain the system time in use by the WINC.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>get the system time from the sntp client using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga57394f15ef7d7c5a273776870680b9c3">m2m_wifi_get_system_time</a>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise.</dd></dl>
<p>Asynchronous function used to retrieve the system time through the use of the response <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a>. Response time retrieved is parsed into the members defined in the structure <a class="el" href="structtstr_system_time.html">tstrSystemTime</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Get the system time from the SNTP client using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga57394f15ef7d7c5a273776870680b9c3">m2m_wifi_get_system_time</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></dd></dl>
<p>This function will request the WINC to report its current system time to the application. The information will arrive at the application via the <a class="el" href="group___w_l_a_n_callbacks.html#ga2c69a19a6593530315e9c6d3b3dc409d">tpfAppWifiCb</a> and event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a>. Response time retrieved is parsed into the members defined in the structure <a class="el" href="structtstr_system_time.html">tstrSystemTime</a>.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga2c69a19a6593530315e9c6d3b3dc409d">tpfAppWifiCb</a> MUST be implemented and registered during initialization. Registration of the callback is done via the <a class="el" href="group___w_l_a_n_a_p_i.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a> API.</li>
<li>The event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a> must be handled in the callback.</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></dd></dl>
<p>This function will request that the WINC IC send it's current system time to the application. The information will arrive at the application via the <a class="el" href="group___w_l_a_n_callbacks.html#ga2c69a19a6593530315e9c6d3b3dc409d">tpfAppWifiCb</a> and event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga2c69a19a6593530315e9c6d3b3dc409d">tpfAppWifiCb</a> MUST be implemented and registered during initialization. Registration of the callback is done via the <a class="el" href="group___w_l_a_n_a_p_i.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a> API.</li>
<li>The event <a class="el" href="group___wlan_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a> must be handled in the callback.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a></li>
<li><a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></li>
</ul>
</dd>
<dd>
<a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Get the system time from the SNTP client using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga57394f15ef7d7c5a273776870680b9c3">m2m_wifi_get_system_time</a>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga4055ecd51b8c38e427d9f418f1743712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4055ecd51b8c38e427d9f418f1743712">&#9670;&nbsp;</a></span>m2m_wifi_set_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_set_system_time </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32UTCSeconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting the system time within the WINC IC. </p>
<p>Asynchronous function for setting the system time within the WINC IC.</p>
<p>Asynchronous function for setting the system time within the WINC.</p>
<p>Synchronous function for setting the system time in time/date format (uint32_t). The <a class="el" href="structtstr_system_time.html">tstrSystemTime</a> structure can be used as a reference to the time values that should be set and pass its value as uint32_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>Seconds elapsed since January 1, 1900 (NTP Timestamp).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP may be disabled and the host may set the system time within the firmware using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a>.</dd></dl>
<p>Function for setting the system time in time/date format (uint32_t). The <a class="el" href="structtstr_system_time.html">tstrSystemTime</a> structure can be used as a reference to the time values that should be set and pass its value as uint32_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>Seconds elapsed since January 1, 1900 (NTP Timestamp).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP may be disabled and the host may set the system time within the firmware using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>UTC value in seconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> if the command has been successfully queued to the WINC, and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a></li>
<li><a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a></li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP may be disabled and the host may set the system time within the firmware using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>Seconds elapsed since January 1, 1900 (NTP Timestamp). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___wifi_enable_sntp_fn.html#gac58e72d38196c2befce12f6bb01b1573" title="Synchronous function to enable/disable the native Simple Network Time Protocol(SNTP) client in the WI...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="Used for time storage.">tstrSystemTime</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP could be disabled and the host should set the system time to the firmware using the API <a class="el" href="group___w_l_a_n_a_p_i.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <a class="el" href="group___c_o_m_m_o_n_d_e_f.html#ga9ef27ba27aafdd1aa3a79d3ba2c36b8f">M2M_SUCCESS</a> for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
  <span class="stringliteral"> © 2019 Microchip Technology Inc. </span>
</body>
</html>
