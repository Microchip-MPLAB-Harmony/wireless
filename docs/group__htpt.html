<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.8.16"/>
  <title>Harmony 3 : Wireless: HTPT API</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <link href="customstylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
 <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
 <div id="titlearea">
 <table cellspacing="0" cellpadding="0">
 <tbody>
   <tr style="height: 56px;vertical-align: text-bottom;">
    <td style="padding: 0.2em 0.5em 0.1em 0.5em;">
	  <a id="projectlogo"><img alt="Logo" src="Microchip_logo.png"/> </a> </td>
     <td style="padding-right: 1em;">
       <span id="projectname"/> <class="stringliteral">Harmony 3 : Wireless </span>
     </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HTPT API</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9c50991aea4286f8484d4b2c7d24f0dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__htpt.html#ga9c50991aea4286f8484d4b2c7d24f0dd">at_ble_htpt_create_db</a> (<a class="el" href="group__ble.html#gaf0538ef74570e97a4abdcc7263fdfcdd">at_ble_htpt_db_config_flag</a> features, <a class="el" href="group__ble.html#ga236445568b928ababcce95965c981348">at_ble_htpt_temp_type</a> temp_type, uint16_t valid_range_min, uint16_t valid_range_max, uint16_t meas_intv, <a class="el" href="group__ble.html#ga3da24809ec703fda904a0a3b4c85e350">at_ble_htpt_sec_level</a> sec_lvl)</td></tr>
<tr class="memdesc:ga9c50991aea4286f8484d4b2c7d24f0dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API message shall be used to add an instance of the Health Thermometer service into the database. This should be done during the initialization phase of the device , after the function is called you should wait for <a class="el" href="group__ble.html#gga3324640b95f33169515f89738ed5baeba73960063c9b66cd270ef75968abddb59">AT_BLE_HTPT_CREATE_DB_CFM</a> event.  <a href="group__htpt.html#ga9c50991aea4286f8484d4b2c7d24f0dd">More...</a><br /></td></tr>
<tr class="separator:ga9c50991aea4286f8484d4b2c7d24f0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bac2afa579331c8bf3a7bf3715f4079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__htpt.html#ga1bac2afa579331c8bf3a7bf3715f4079">at_ble_htpt_enable</a> (<a class="el" href="group__ble.html#gabd23646d0c662860741f787efc8456f2">at_ble_handle_t</a> conn_handle, <a class="el" href="group__ble.html#gae35b76480ab773fe13f5dfb9f78a4b28">at_ble_htpt_ntf_ind_cfg</a> ntf_ind_cfg)</td></tr>
<tr class="memdesc:ga1bac2afa579331c8bf3a7bf3715f4079"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API message is used for enabling the Thermometer role of the Health Thermometer profile. This should be called after the database creation.  <a href="group__htpt.html#ga1bac2afa579331c8bf3a7bf3715f4079">More...</a><br /></td></tr>
<tr class="separator:ga1bac2afa579331c8bf3a7bf3715f4079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4979577ecfab6b25dc76e2a448c65b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__htpt.html#ga4979577ecfab6b25dc76e2a448c65b37">at_ble_htpt_temp_send</a> (uint32_t temp, <a class="el" href="structat__ble__prf__date__time__t.html">at_ble_prf_date_time_t</a> *time_stamp, <a class="el" href="group__ble.html#gaccb2a3740dd79da6ab168adfa69c9548">at_ble_htpt_temp_flags</a> flags, <a class="el" href="group__ble.html#ga236445568b928ababcce95965c981348">at_ble_htpt_temp_type</a> type, bool flag_stable_meas)</td></tr>
<tr class="memdesc:ga4979577ecfab6b25dc76e2a448c65b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">This message is used by the application (which handles the temperature device driver and measurements) to send a temperature measurement through the Thermometer role.  <a href="group__htpt.html#ga4979577ecfab6b25dc76e2a448c65b37">More...</a><br /></td></tr>
<tr class="separator:ga4979577ecfab6b25dc76e2a448c65b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2808738edb6dbd353e562b235a4d10a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__htpt.html#ga2808738edb6dbd353e562b235a4d10a6">at_ble_htpt_meas_intv_update</a> (uint16_t meas_intv)</td></tr>
<tr class="memdesc:ga2808738edb6dbd353e562b235a4d10a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This message is used by the application to order the HTPT profile to generate an indication (if enabled) of the Measurement Interval Char. This can be done as the application desires, at each connection, or if the measurement interval value has been modified locally (interface for this is not provided since a normal thermometer would have very few configurable UI elements and configuration should be done through Collector)  <a href="group__htpt.html#ga2808738edb6dbd353e562b235a4d10a6">More...</a><br /></td></tr>
<tr class="separator:ga2808738edb6dbd353e562b235a4d10a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9c50991aea4286f8484d4b2c7d24f0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c50991aea4286f8484d4b2c7d24f0dd">&#9670;&nbsp;</a></span>at_ble_htpt_create_db()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a> at_ble_htpt_create_db </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ble.html#gaf0538ef74570e97a4abdcc7263fdfcdd">at_ble_htpt_db_config_flag</a>&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ble.html#ga236445568b928ababcce95965c981348">at_ble_htpt_temp_type</a>&#160;</td>
          <td class="paramname"><em>temp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>valid_range_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>valid_range_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>meas_intv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ble.html#ga3da24809ec703fda904a0a3b4c85e350">at_ble_htpt_sec_level</a>&#160;</td>
          <td class="paramname"><em>sec_lvl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API message shall be used to add an instance of the Health Thermometer service into the database. This should be done during the initialization phase of the device , after the function is called you should wait for <a class="el" href="group__ble.html#gga3324640b95f33169515f89738ed5baeba73960063c9b66cd270ef75968abddb59">AT_BLE_HTPT_CREATE_DB_CFM</a> event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">features</td><td>Indicate if optional features are supported or not, see <a class="el" href="group__ble.html#gaf0538ef74570e97a4abdcc7263fdfcdd">at_ble_htpt_db_config_flag</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">temp_type</td><td>type of temperature as defined in org.bluetooth.characteristic.temperature_type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valid_range_min</td><td>Minimal measurement interval value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">valid_range_max</td><td>Maximal measurement interval value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">meas_intv</td><td>Latest known value for measurement interval () </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sec_lvl</td><td>can be : Disable(0) , Enable(1), Unauth(2), Auth(3) see <a class="el" href="group__ble.html#ga3da24809ec703fda904a0a3b4c85e350">at_ble_htpt_sec_level</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205a7e3bfff5387331cd4f2c56cbcbbd7e19">AT_BLE_SUCCESS</a> operation completed successfully </dd>
<dd>
<a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205ac345aa57ea63207c65158bfac760799c">AT_BLE_FAILURE</a> Generic error. </dd></dl>

</div>
</div>
<a id="ga1bac2afa579331c8bf3a7bf3715f4079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bac2afa579331c8bf3a7bf3715f4079">&#9670;&nbsp;</a></span>at_ble_htpt_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a> at_ble_htpt_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ble.html#gabd23646d0c662860741f787efc8456f2">at_ble_handle_t</a>&#160;</td>
          <td class="paramname"><em>conn_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ble.html#gae35b76480ab773fe13f5dfb9f78a4b28">at_ble_htpt_ntf_ind_cfg</a>&#160;</td>
          <td class="paramname"><em>ntf_ind_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API message is used for enabling the Thermometer role of the Health Thermometer profile. This should be called after the database creation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_handle</td><td>handle of the connection </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ntf_ind_cfg</td><td>Enable notifications or indications for profile characteristics see <a class="el" href="group__ble.html#gae35b76480ab773fe13f5dfb9f78a4b28">at_ble_htpt_ntf_ind_cfg</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205a7e3bfff5387331cd4f2c56cbcbbd7e19">AT_BLE_SUCCESS</a> operation completed successfully </dd>
<dd>
<a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205ac345aa57ea63207c65158bfac760799c">AT_BLE_FAILURE</a> Generic error. </dd></dl>

</div>
</div>
<a id="ga2808738edb6dbd353e562b235a4d10a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2808738edb6dbd353e562b235a4d10a6">&#9670;&nbsp;</a></span>at_ble_htpt_meas_intv_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a> at_ble_htpt_meas_intv_update </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>meas_intv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This message is used by the application to order the HTPT profile to generate an indication (if enabled) of the Measurement Interval Char. This can be done as the application desires, at each connection, or if the measurement interval value has been modified locally (interface for this is not provided since a normal thermometer would have very few configurable UI elements and configuration should be done through Collector) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">meas_intv</td><td>Measurement Interval value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205a7e3bfff5387331cd4f2c56cbcbbd7e19">AT_BLE_SUCCESS</a> operation completed successfully </dd>
<dd>
<a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205ac345aa57ea63207c65158bfac760799c">AT_BLE_FAILURE</a> Generic error. </dd></dl>

</div>
</div>
<a id="ga4979577ecfab6b25dc76e2a448c65b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4979577ecfab6b25dc76e2a448c65b37">&#9670;&nbsp;</a></span>at_ble_htpt_temp_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble.html#ga499079e5c2b73cb11e604e08e1493205">at_ble_status_t</a> at_ble_htpt_temp_send </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structat__ble__prf__date__time__t.html">at_ble_prf_date_time_t</a> *&#160;</td>
          <td class="paramname"><em>time_stamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ble.html#gaccb2a3740dd79da6ab168adfa69c9548">at_ble_htpt_temp_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ble.html#ga236445568b928ababcce95965c981348">at_ble_htpt_temp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flag_stable_meas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This message is used by the application (which handles the temperature device driver and measurements) to send a temperature measurement through the Thermometer role. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">temp</td><td>temperature value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_stamp</td><td>The time of reading according to the format defined in <a class="el" href="structat__ble__prf__date__time__t.html">at_ble_prf_date_time_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>temp flag see <a class="el" href="group__ble.html#gaccb2a3740dd79da6ab168adfa69c9548">at_ble_htpt_temp_flags</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>temp type see <a class="el" href="group__ble.html#ga236445568b928ababcce95965c981348">at_ble_htpt_temp_type</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flag_stable_meas</td><td>Stable or intermediary type of temperature (True stable meas, else false)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205a7e3bfff5387331cd4f2c56cbcbbd7e19">AT_BLE_SUCCESS</a> operation completed successfully </dd>
<dd>
<a class="el" href="group__ble.html#gga499079e5c2b73cb11e604e08e1493205ac345aa57ea63207c65158bfac760799c">AT_BLE_FAILURE</a> Generic error. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
  <span class="stringliteral"> © 2019 Microchip Technology Inc. </span>
</body>
</html>
